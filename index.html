<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#0b5ed7">
  <title>TurnApp ‚Äî Gesti√≥n Inteligente de Turnos de Trabajo</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="app.css?v=3.0">
</head>
<body class="light">
  <!-- Pantalla inicial / Splash -->
  <div id="splash" class="splash">
    <div class="logo-wrap">
      <img src="logo.svg" alt="TurnApp logo" class="logo-img" id="splash-logo">
    </div>
    <h1 class="slogan">Gesti√≥n Inteligente de Turnos de Trabajo</h1>
  </div>
  <!-- App principal -->
  <main id="app" class="oculto">
    <header class="app-header">
      <h2 id="app-title">TurnApp</h2>
      <button id="btn-toggle-theme" class="icon-btn" aria-label="Cambiar tema">üåì</button>
    </header>
    <section id="content" class="content">
      <p>Bienvenido a  <strong>TurnApp</strong></p>
      <!-- Botones de cadencia -->
      <div style="margin-top:12px; margin-bottom:25px; text-align:center;">
        <button id="btn-apply-cadence" class="modern-btn green">Aplicar cadencia</button>
        <button id="btn-clear-cadence" class="modern-btn red">Limpiar cadencia</button>
      </div>
      <div class="calendar-controls">
        <button id="prevMonth">‚óÄ Anterior</button>
        <span id="monthLabel"></span>
        <button id="nextMonth">Siguiente ‚ñ∂</button>
      </div>
      <div id="calendar-weekdays">
        <div>LUN</div>
        <div>MAR</div>
        <div>MI√â</div>
        <div>JUE</div>
        <div>VIE</div>
        <div>S√ÅB</div>
        <div>DOM</div>
      </div>
      <section id="calendar-panel" class="panel">
        <div id="calendar"></div>
      </section>
      <!-- Contenedor de licencias -->
      <div id="licencias-container" class="licencias oculto" aria-hidden="true">
        <h3>Gesti√≥n de Permisos y Licencias</h3>
        <div class="licencia-item" data-tipo="vacaciones"><label class="licencia-nombre">Vacaciones: V</label><input type="number" min="0" class="cantidad-input" value="0"><button type="button" class="licencia-color-handle licencia-color" title="Elegir color">‚óè</button></div>
        <div class="licencia-item" data-tipo="compfest"><label class="licencia-nombre">Compensaci√≥n de Festivos: CF</label><input type="number" min="0" class="cantidad-input" value="0"><button type="button" class="licencia-color-handle licencia-color" title="Elegir color">‚óè</button></div>
        <div class="licencia-item" data-tipo="asuntos"><label class="licencia-nombre">Asuntos Propios: AP</label><input type="number" min="0" class="cantidad-input" value="0"><button type="button" class="licencia-color-handle licencia-color" title="Elegir color">‚óè</button></div>
        <div class="licencia-item" data-tipo="delegacion"><label class="licencia-nombre">Delegaci√≥n de Gobierno: DG</label><input type="number" min="0" class="cantidad-input" value="0"><button type="button" class="licencia-color-handle licencia-color" title="Elegir color">‚óè</button></div>
        <div class="licencia-item" data-tipo="adicionales"><label class="licencia-nombre">D√≠as Adicionales: DA</label><input type="number" min="0" class="cantidad-input" value="0"><button type="button" class="licencia-color-handle licencia-color" title="Elegir color">‚óè</button></div>
        <div class="licencia-item" data-tipo="acumuladas"><label class="licencia-nombre">Jornadas Acumuladas: JA</label><input type="number" min="0" class="cantidad-input" value="0"><button type="button" class="licencia-color-handle licencia-color" title="Elegir color">‚óè</button></div>
        <div class="licencia-item" data-tipo="otros"><label class="licencia-nombre">Otros: O</label><input type="number" min="0" class="cantidad-input" value="0"><button type="button" class="licencia-color-handle licencia-color" title="Elegir color">‚óè</button></div>
        <div class="licencia-item" data-tipo="baja_medica"><label class="licencia-nombre">Baja M√©dica: BM</label><input type="number" min="0" class="cantidad-input" value="0"><button type="button" class="licencia-color-handle licencia-color" title="Elegir color">‚óè</button></div>
        <div class="licencia-item" data-tipo="articulo_48"><label class="licencia-nombre">Art√≠culo 48: AR</label><input type="number" min="0" class="cantidad-input" value="0"><button type="button" class="licencia-color-handle licencia-color" title="Elegir color">‚óè</button></div>
        <div class="licencia-item" data-tipo="deber_inexcusable"><label class="licencia-nombre">Deber Inexcusable: DI</label><input type="number" min="0" class="cantidad-input" value="0"><button type="button" class="licencia-color-handle licencia-color" title="Elegir color">‚óè</button></div>
        <hr>
        <div class="licencia-total"><label class="licencia-nombre"><strong>Total:</strong></label><input type="text" id="total-licencias" readonly value="0"></div>
      </div>
    </section>
    <!-- Caj√≥n de Peticiones -->
    <section id="peticiones-section" class="panel oculto">
      <h2>Gesti√≥n de Peticiones</h2>
      <div class="peticiones-zona">
        <h3>Tus Peticiones</h3>
        <textarea id="peticion-texto" placeholder="Escribe aqu√≠ tu petici√≥n..."></textarea>
        <div class="peticiones-controles">
          <button id="enviar-peticion">Enviar Petici√≥n</button>
          <button id="btn-borrar-peticiones" class="btn-borrar-todo">üßπ Borrar Todo</button>
        </div>
        <ul id="lista-peticiones-usuario" class="lista-peticiones"></ul>
      </div>
    </section>
    <!-- Tabla del Coordinador -->
    <div id="tabla-coordinador-container">
        <button id="limpiar-tabla">üßπ Limpiar tabla</button>
        <table id="tabla-coordinador">
            <thead>
                <tr>
                    <th colspan="2">FUNCIONARIO/A</th>
                    <th colspan="5" contenteditable="true" class="titulo-ciclo">CICLO (haz clic para editar fechas)</th>
                    <th contenteditable="true">OBSERVACIONES</th>
                </tr>
                <tr>
                    <th>N¬∫</th><th>NOMBRE</th><th>M¬π</th><th>T¬π</th><th>M¬≤</th><th>T¬≤</th><th>N</th><th contenteditable="true">COCINA</th>
                </tr>
            </thead>
            <tbody>
                <!-- Las filas se generar√°n din√°micamente con JavaScript -->
            </tbody>
        </table>
    </div>
    <nav class="bottom-nav">
      <button data-section="turnos" class="nav-btn active">Turnos</button>
      <button id="btn-peticiones" type="button" class="nav-btn">Peticiones</button>
      <button id="btn-carga-dias" class="nav-btn">Carga D√≠as</button>
    </nav>
  </main>
  <!-- MODAL CADENCIAS -->
  <div id="cadence-modal-overlay" class="modal-overlay oculto" aria-hidden="true">
    <div id="cadence-modal" class="modal-card" role="dialog" aria-modal="true" aria-labelledby="cadence-title">
      <h3 id="cadence-title">Seleccione la cadencia</h3>
      <div class="modal-section">
        <label class="modal-label">Tipo:</label>
        <div class="modal-row">
          <button data-type="V-1" class="modal-type-btn">V-1</button>
          <button data-type="V-2" class="modal-type-btn">V-2</button>
          <button data-type="Personalizada" class="modal-type-btn">Personalizada</button>
        </div>
      </div>
      <div id="v1-options" style="display:none;">
        <label class="modal-label">Opciones V-1:</label>
        <div class="modal-row radio-row">
          <label><input type="radio" name="v1opt" value="0"> 1 ‚Äî M/T, L, M/T, N, L, L, L, L</label>
          <label><input type="radio" name="v1opt" value="1"> 2 ‚Äî M/T, M/T, N, L, L, L, L, L</label>
          <label><input type="radio" name="v1opt" value="2"> 3 ‚Äî T, M/T, M/N, L, L, L, L, L</label>
          <label><input type="radio" name="v1opt" value="3"> 4 ‚Äî M/T, N, L, L, L</label>
          <label><input type="radio" name="v1opt" value="4"> 5 ‚Äî T, M/N, L, L, L</label>
        </div>
      </div>
      <div id="v2-options" style="display:none;">
        <label class="modal-label">V-2: patr√≥n fijo de 6 d√≠as (M/T, M/T, L, L, L, L)</label>
      </div>
      <div id="custom-section" style="display:none;">
        <label class="modal-label">Patr√≥n personalizado (separado por comas):</label>
        <input id="custom-pattern" type="text" placeholder="ej: M/T, L, M/T, N, L, L, L, L">
      </div>
      <div class="modal-section">
        <label class="modal-label">Fecha inicio (DD/MM/AAAA):</label>
        <input id="cadence-start" type="text" placeholder="DD/MM/AAAA">
      </div>
      <div class="modal-actions">
        <button id="apply-cadence-confirm" class="modal-action primary">Aplicar</button>
        <button id="close-cadence" class="modal-action">Cerrar</button>
      </div>
    </div>
  </div>
  <script src="app.js" defer></script>
</body>

</html>
